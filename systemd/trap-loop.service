[Unit]
Description=Trap Work Loop
After=network.target trap-server.service
Requires=trap-server.service

[Service]
Type=simple
WorkingDirectory=/home/dan/src/trap
EnvironmentFile=/home/dan/src/trap/.env.local
ExecStart=/home/dan/.volta/bin/volta run npx tsx worker/loop.ts
Restart=on-failure
RestartSec=10
StandardOutput=journal
StandardError=journal
SyslogIdentifier=trap-loop

[Install]
WantedBy=default.target
